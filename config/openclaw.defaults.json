{
  "_comment": "OpenNekaise default config. Secrets injected by entrypoint from env vars. Workspace path injected by entrypoint.",
  "agents": {
    "defaults": {
      "model": {
        "primary": "openai-codex/gpt-5.3-codex"
      },
      "models": {
        "openai/gpt-5.1-codex": { "alias": "GPT" },
        "openai/gpt-5.3-codex-spark": {},
        "openai/gpt-5.2-chat-latest": {},
        "openai/codex-mini-latest": {},
        "openai/gpt-5.3-codex": {},
        "openai-codex/gpt-5.3-codex-spark": {},
        "openai-codex/gpt-5.3-codex": {}
      },
      "workspace": "__INJECTED_BY_ENTRYPOINT__",
      "compaction": {
        "mode": "safeguard"
      },
      "maxConcurrent": 4,
      "subagents": {
        "maxConcurrent": 8
      }
    }
  },
  "messages": {
    "ackReactionScope": "group-mentions"
  },
  "commands": {
    "native": "auto",
    "nativeSkills": "auto",
    "restart": true,
    "ownerDisplay": "raw"
  },
  "hooks": {
    "internal": {
      "enabled": true,
      "entries": {
        "boot-md": { "enabled": true },
        "bootstrap-extra-files": { "enabled": true },
        "command-logger": { "enabled": true },
        "session-memory": { "enabled": true }
      }
    }
  },
  "channels": {
    "telegram": {
      "enabled": false,
      "dmPolicy": "pairing",
      "botToken": "",
      "groupPolicy": "allowlist",
      "streaming": true
    },
    "slack": {
      "mode": "socket",
      "webhookPath": "/slack/events",
      "enabled": false,
      "botToken": "",
      "appToken": "",
      "userTokenReadOnly": true,
      "groupPolicy": "open",
      "streaming": false,
      "channels": {
        "#talk_to_buildings": { "allow": true }
      }
    },
    "discord": {
      "enabled": false,
      "botToken": "",
      "groupPolicy": "allowlist"
    }
  },
  "gateway": {
    "port": 18789,
    "mode": "local",
    "bind": "lan",
    "auth": {
      "mode": "token",
      "token": ""
    }
  },
  "plugins": {
    "allow": ["telegram", "slack", "discord"],
    "entries": {
      "telegram": { "enabled": true },
      "slack": { "enabled": true },
      "discord": { "enabled": true }
    }
  }
}
