services:
  nekaise:
    build:
      context: .
      args:
        OPENCLAW_VERSION: ${OPENCLAW_VERSION:-latest}
        NEKAISE_VERSION: ${NEKAISE_VERSION:-1.0.0}
    image: opennekaise:${NEKAISE_VERSION:-latest}
    container_name: nekaise
    restart: unless-stopped
    stdin_open: true
    tty: true
    init: true
    volumes:
      - ./.opennekaise/runtime:/.opennekaise
      - ./home:/home
      - ./sample_buildings:/nekaise/sample_buildings:ro
    ports:
      - "${GATEWAY_PORT:-20629}:18789"
